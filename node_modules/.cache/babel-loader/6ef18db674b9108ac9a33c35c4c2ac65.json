{"ast":null,"code":"var _jsxFileName = \"/Users/eliasadmaso/social-media/Client/src/Pages/Edit-Profile/Edit.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport \"./Edit.css\";\nimport { useRef } from \"react\";\nimport { updateUser } from \"../../Components/Service/user-service\";\nimport { AuthContext } from \"../../Components/Context/Auth-context\";\nimport TopBar from \"../../Components/TopBar/TopBar\";\nimport PermMediaOutlinedIcon from \"@mui/icons-material/PermMediaOutlined\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Edit() {\n  _s();\n\n  const {\n    user,\n    dispatch\n  } = useContext(AuthContext);\n  const username = useRef();\n  const from = useRef();\n  const city = useRef();\n  const relationship = useRef();\n  const [profileImg, setProfileImg] = useState(\"\");\n  const [coverImg, setCoverImg] = useState(\"\");\n\n  const handleClick = async e => {\n    e.preventDefault();\n\n    try {\n      if (coverImg && profileImg) {\n        const profile = new FormData();\n        const profileImgName = profileImg.name;\n        profile.append(\"file\", profileImg);\n        profile.append(\"name\", profileImgName);\n        const cover = new FormData();\n        const coverImgName = coverImg.name;\n        cover.append(\"file\", coverImg);\n        cover.append(\"name\", coverImgName);\n\n        try {\n          await axios.post(\"http://localhost:8800/upload\", profile);\n          await axios.post(\"http://localhost:8800/upload\", cover);\n        } catch (error) {\n          console.log(error);\n        }\n\n        const pName = `http://localhost:8800`;\n        await updateUser(user._id, username.current.value, from.current.value, city.current.value, relationship.current.value, profileImgName, coverImgName, dispatch);\n      } else if (coverImg) {\n        const profile = new FormData();\n        const profileImgName = profileImg.name;\n        profile.append(\"file\", profileImg);\n        profile.append(\"name\", profileImgName);\n        const cover = new FormData();\n        const coverImgName = coverImg.name;\n        cover.append(\"file\", coverImg);\n        cover.append(\"name\", coverImgName);\n        await updateUser(user._id, username.current.value, from.current.value, city.current.value, relationship.current.value, profileImgName, coverImgName, dispatch);\n      } else if (profileImg) {\n        const profile = new FormData();\n        const profileImgName = profileImg.name;\n        profile.append(\"file\", profileImg);\n        profile.append(\"name\", profileImgName);\n        const cover = new FormData();\n        const coverImgName = coverImg.name;\n        cover.append(\"file\", coverImg);\n        cover.append(\"name\", coverImgName);\n        await updateUser(user._id, username.current.value, from.current.value, city.current.value, relationship.current.value, profileImgName, coverImgName, dispatch);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TopBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"userDetails-div\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"userDetails\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"details\",\n            children: \"Your details \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"User Name - \", user.username ? user.username : \"none\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"From - \", user.from ? user.from : \"none\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"City - \", user.city ? user.city : \"none\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Relationship - \", user.relationship ? user.relationship : \"none\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"userImg\",\n            src: user.profilePicture ? user.profilePicture : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formEdit-div\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formEdit\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            id: \"form\",\n            className: \"form\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Update Your Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"username\",\n                children: \"Username\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter username\",\n                ref: username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"from\",\n                children: \"From\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter Country\",\n                ref: from\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"city\",\n                children: \"City\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter City\",\n                ref: city\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                for: \"relationship\",\n                children: \"Relationship\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Enter Relationship\",\n                ref: relationship\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file1\",\n                className: \"shareOption\",\n                children: [/*#__PURE__*/_jsxDEV(PermMediaOutlinedIcon, {\n                  className: \"shareIcon\",\n                  htmlColor: \"black\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"shareOptionText\",\n                  children: \"Profile Picture\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    display: \"none\"\n                  },\n                  type: \"file\",\n                  id: \"file1\",\n                  accept: \".png, .jpeg, .jpg\",\n                  onChange: e => {\n                    setProfileImg(e.target.files[0]);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-control\",\n              children: /*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"file2\",\n                className: \"shareOption\",\n                children: [/*#__PURE__*/_jsxDEV(PermMediaOutlinedIcon, {\n                  className: \"shareIcon\",\n                  htmlColor: \"black\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"shareOptionText\",\n                  children: \"Cover Picture\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    display: \"none\"\n                  },\n                  type: \"file\",\n                  id: \"file2\",\n                  accept: \".png, .jpeg, .jpg\",\n                  onChange: e => {\n                    setCoverImg(e.target.files[0]);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"auth-btn\",\n              onClick: handleClick,\n              children: \"Update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Edit, \"S39rNHlKgblG4RhjKSrXcOmDtEU=\");\n\n_c = Edit;\nexport default Edit;\n\nvar _c;\n\n$RefreshReg$(_c, \"Edit\");","map":{"version":3,"sources":["/Users/eliasadmaso/social-media/Client/src/Pages/Edit-Profile/Edit.jsx"],"names":["React","useContext","useEffect","useState","useRef","updateUser","AuthContext","TopBar","PermMediaOutlinedIcon","axios","Edit","user","dispatch","username","from","city","relationship","profileImg","setProfileImg","coverImg","setCoverImg","handleClick","e","preventDefault","profile","FormData","profileImgName","name","append","cover","coverImgName","post","error","console","log","pName","_id","current","value","profilePicture","display","target","files"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport \"./Edit.css\";\nimport { useRef } from \"react\";\nimport { updateUser } from \"../../Components/Service/user-service\";\nimport { AuthContext } from \"../../Components/Context/Auth-context\";\nimport TopBar from \"../../Components/TopBar/TopBar\";\nimport PermMediaOutlinedIcon from \"@mui/icons-material/PermMediaOutlined\";\nimport axios from 'axios';\n\nfunction Edit() {\n  const { user, dispatch } = useContext(AuthContext);\n\n  const username = useRef();\n  const from = useRef();\n  const city = useRef();\n  const relationship = useRef();\n\n  const [profileImg, setProfileImg] = useState(\"\");\n  const [coverImg, setCoverImg] = useState(\"\");\n\n  const handleClick = async (e) => {\n    e.preventDefault();\n    try {\n      if (coverImg && profileImg) {\n        const profile = new FormData();\n        const profileImgName = profileImg.name;\n        profile.append(\"file\", profileImg);\n        profile.append(\"name\", profileImgName);\n\n        const cover = new FormData();\n        const coverImgName = coverImg.name;\n        cover.append(\"file\", coverImg);\n        cover.append(\"name\", coverImgName);\n        try {\n          await axios.post(\"http://localhost:8800/upload\", profile);\n          await axios.post(\"http://localhost:8800/upload\", cover);\n        } catch (error) {\n          console.log(error);\n        }\n        const pName = `http://localhost:8800`\n\n        await updateUser(\n          user._id,\n          username.current.value,\n          from.current.value,\n          city.current.value,\n          relationship.current.value,\n          profileImgName,\n          coverImgName,\n          dispatch\n        );\n      }\n      else if(coverImg){\n       \n          const profile = new FormData();\n          const profileImgName = profileImg.name;\n          profile.append(\"file\", profileImg);\n          profile.append(\"name\", profileImgName);\n  \n          const cover = new FormData();\n          const coverImgName = coverImg.name;\n          cover.append(\"file\", coverImg);\n          cover.append(\"name\", coverImgName);\n  \n          await updateUser(\n            user._id,\n            username.current.value,\n            from.current.value,\n            city.current.value,\n            relationship.current.value,\n            profileImgName,\n            coverImgName,\n            dispatch\n          );\n      }\n      else if(profileImg){\n       \n        const profile = new FormData();\n        const profileImgName = profileImg.name;\n        profile.append(\"file\", profileImg);\n        profile.append(\"name\", profileImgName);\n\n        const cover = new FormData();\n        const coverImgName = coverImg.name;\n        cover.append(\"file\", coverImg);\n        cover.append(\"name\", coverImgName);\n\n        await updateUser(\n          user._id,\n          username.current.value,\n          from.current.value,\n          city.current.value,\n          relationship.current.value,\n          profileImgName,\n          coverImgName,\n          dispatch\n        );\n    }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <TopBar />\n      <div className=\"editContainer\">\n        <div className=\"userDetails-div\">\n          <div className=\"userDetails\">\n            <div className=\"details\">Your details </div>\n            <span>User Name - {user.username ? user.username : \"none\"}</span>\n\n            <span>From - {user.from ? user.from : \"none\"}</span>\n            <span>City - {user.city ? user.city : \"none\"}</span>\n            <span>\n              Relationship - {user.relationship ? user.relationship : \"none\"}\n            </span>\n            <img\n              className=\"userImg\"\n              src={\n                user.profilePicture\n                  ? user.profilePicture\n                  : \"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460__340.png\"\n              }\n            />\n          </div>\n        </div>\n        <div className=\"formEdit-div\">\n          <div className=\"formEdit\">\n            <form id=\"form\" className=\"form\">\n              <h2>Update Your Details</h2>\n              <div className=\"form-control\">\n                <label for=\"username\">Username</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Enter username\"\n                  ref={username}\n                />\n              </div>\n              <div className=\"form-control\">\n                <label for=\"from\">From</label>\n                <input type=\"text\" placeholder=\"Enter Country\" ref={from} />\n              </div>\n              <div className=\"form-control\">\n                <label for=\"city\">City</label>\n                <input type=\"text\" placeholder=\"Enter City\" ref={city} />\n              </div>\n              <div className=\"form-control\">\n                <label for=\"relationship\">Relationship</label>\n                <input\n                  type=\"text\"\n                  placeholder=\"Enter Relationship\"\n                  ref={relationship}\n                />\n              </div>\n              <div className=\"form-control\">\n                <label htmlFor=\"file1\" className=\"shareOption\">\n                  <PermMediaOutlinedIcon\n                    className=\"shareIcon\"\n                    htmlColor=\"black\"\n                  />\n                  <span className=\"shareOptionText\">Profile Picture</span>\n                  <input\n                    style={{ display: \"none\" }}\n                    type=\"file\"\n                    id=\"file1\"\n                    accept=\".png, .jpeg, .jpg\"\n                    onChange={(e) => {\n                      setProfileImg(e.target.files[0]);\n                    }}\n                  />\n                </label>\n              </div>\n              <div className=\"form-control\">\n                <label htmlFor=\"file2\" className=\"shareOption\">\n                  <PermMediaOutlinedIcon\n                    className=\"shareIcon\"\n                    htmlColor=\"black\"\n                  />\n                  <span className=\"shareOptionText\">Cover Picture</span>\n                  <input\n                    style={{ display: \"none\" }}\n                    type=\"file\"\n                    id=\"file2\"\n                    accept=\".png, .jpeg, .jpg\"\n                    onChange={(e) => {\n                      setCoverImg(e.target.files[0]);\n                    }}\n                  />\n                </label>\n              </div>\n              <button className=\"auth-btn\" onClick={handleClick}>\n                Update\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Edit;\n"]},"metadata":{},"sourceType":"module"}